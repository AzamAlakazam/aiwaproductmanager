var currentProductData;function loadProductsTable(){var e=document.getElementById("products-view");e.innerHTML="";let t=document.createElement("tr");t.innerHTML="<th>Category</th><th>Name</th><th>Price</th><th>Image</th>",e.appendChild(t),currentProductData.categories.forEach(t=>{var o=document.createElement("tr"),n=document.createElement("td");n.textContent=t.categorieName,n.rowSpan=t.items.length,o.appendChild(n),t.items.forEach(t=>{null==o&&(o=document.createElement("tr"));var n=document.createElement("td");n.textContent=t.name,o.appendChild(n);var a=document.createElement("td");a.textContent=t.price,o.appendChild(a);var r=document.createElement("td");r.textContent=t.image,o.appendChild(r),e.appendChild(o),o=null})})}function loadCategoryOptions(){var e=document.getElementById("categoryOptions");e.innerHTML="",currentProductData.categories.forEach(t=>{var o=document.createElement("option");o.textContent=t.categorieName,o.value=t.categorieName,e.appendChild(o)})}function loadItemOptions(){var e=document.getElementById("itemOptions");e.innerHTML="",currentProductData.categories.forEach(t=>{t.items.forEach(t=>{var o=document.createElement("option");o.textContent=t.name,o.value=t.name,e.appendChild(o)})})}function loadCategoryOptionsRemove(){var e=document.getElementById("categoryOptionsRemove");e.innerHTML="",currentProductData.categories.forEach(t=>{var o=document.createElement("option");o.textContent=t.categorieName,o.value=t.categorieName,e.appendChild(o)})}window.onload=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(currentProductData=JSON.parse(this.responseText),loadProductsTable())},e.open("GET","products.json",!0),e.send()};var addCategoryDialog=document.getElementById("addCategory"),addCategoryButton=document.getElementById("category"),addCategorySpan=document.getElementsByClassName("close")[0];addCategoryButton.onclick=function(){addCategoryDialog.style.display="block"},addCategorySpan.onclick=function(){addCategoryDialog.style.display="none"},window.onclick=function(e){e.target==addCategoryDialog&&(addCategoryDialog.style.display="none")};var addElementDialog=document.getElementById("addElement"),addElementButton=document.getElementById("element"),addElementSpan=document.getElementsByClassName("close")[1];addElementButton.onclick=function(){addElementDialog.style.display="block",loadCategoryOptions()},addElementSpan.onclick=function(){addElementDialog.style.display="none"},window.onclick=function(e){e.target==addElementDialog&&(addElementDialog.style.display="none")};var removeElementDialog=document.getElementById("removeElementDiv"),removeElementButton=document.getElementById("removeElement"),removeElementSpan=document.getElementsByClassName("close")[2];removeElementButton.onclick=function(){removeElementDialog.style.display="block",loadItemOptions()},removeElementSpan.onclick=function(){removeElementDialog.style.display="none"},window.onclick=function(e){e.target==removeElementDialog&&(removeElementDialog.style.display="none")};var removecategoryDialog=document.getElementById("removeCategoryDiv"),removecategoryButton=document.getElementById("removeCategory"),removecategorySpan=document.getElementsByClassName("close")[3];function addProductCategory(){var e=document.getElementById("categoryName").value;currentProductData.categories.push({categorieName:e,items:[]}),addCategoryDialog.style.display="none"}function addElement(){var e=document.getElementById("categoryOptions").value,t=document.getElementById("itemName").value,o=document.getElementById("image").value,n=document.getElementById("price").value;""!=t&&""!=o&&""!=n&&(currentProductData.categories.forEach(a=>{a.categorieName==e&&a.items.push({name:t,image:o,description:"",price:n})}),loadProductsTable(),addElementDialog.style.display="none")}function downloadJson(){exportToJsonFile(currentProductData)}function removeCategory(){for(var e=document.getElementById("categoryOptionsRemove").value,t=0;t<currentProductData.categories.length;t++)currentProductData.categories[t].categorieName===e&&currentProductData.categories.splice(t,1);loadProductsTable(),removecategoryDialog.style.display="none"}function removeElement(){var e=document.getElementById("itemOptions").value;currentProductData.categories.forEach(t=>{for(var o=0;o<t.items.length;o++)t.items[o].name===e&&t.items.splice(o,1)}),loadProductsTable(),removeElementDialog.style.display="none"}removecategoryButton.onclick=function(){removecategoryDialog.style.display="block",loadCategoryOptionsRemove()},removecategorySpan.onclick=function(){removecategoryDialog.style.display="none"},window.onclick=function(e){e.target==removecategoryDialog&&(removecategoryDialog.style.display="none")};
